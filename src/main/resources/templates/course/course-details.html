<!DOCTYPE html>
<html layout:decorate="~{layout}" xmlns:layout="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
</head>

<body>
    <section class="layout-content" layout:fragment="mybody">
        <h1>Course-Details</h1>

        <div sec:authorize="hasAuthority('TRAINER')">

        <h2>Participants</h2>

            <div th:unless="${participants.size() > 0}" style="width: 80%">
                <span>No participants found!</span>
            </div>

        <table class = "table table-striped table-bordered" th:unless="${participants.size()<1}" style="width: 100%" margin="auto">
            <thead class = "table-dark">
            <tr>
                <th>Name</th>
                <th>Actions</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="participant: ${participants}">

                <td><span th:text="${participant.getLast_name()}"></span> <span th:text="${participant.getFirst_name()}"></span></td>

                <td>
                    <a th:href="@{/course/deregister/{courseId}(courseId = ${course.getId()}, customerId = ${participant.getId()})}" class = "btn btn-danger">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"/>
                        </svg>
                    </a>

                </td>
            </tr>
            </tbody>
        </table>

        <h2>Customers</h2>

        <table class = "table table-striped table-bordered" style="width: 100%" margin="auto">
            <thead class = "table-dark">
            <tr>
                <th>Name</th>
                <th>Actions</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="customer: ${customers}">

                <td><span th:text="${customer.getLast_name()}"></span> <span th:text="${customer.getFirst_name()}"></span></td>

                <td>
                    <a th:href="@{/course/register/{courseId}(courseId = ${course.getId()}, customerId = ${customer.getId()})}" class = "btn btn-success">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
                            <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
                        </svg>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
        </div>
    </section>
</body>
</html>